<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.impromptu.admin.dao.MenuDao">

    <insert id="insertOrUpdateBatch" keyProperty="id" useGeneratedKeys="true">
        INSERT INTO mb_menu(parent_id, code, icon, name, type, sort, create_time, update_time, url)
        VALUES
        <foreach collection="list" item="item" separator=",">
            (#{item.parentId}, #{item.code}, #{item.icon}, #{item.name}, #{item.type}, #{item.sort}, #{item.createTime}, #{item.updateTime}, #{item.url})
        </foreach>
        ON DUPLICATE KEY UPDATE
        parent_id = VALUES(parent_id),
        code = VALUES(code),
        icon = VALUES(icon),
        name = VALUES(name),
        type = VALUES(type),
        sort = VALUES(sort),
        update_time = VALUES(update_time),
        url = VALUES(url)
    </insert>

</mapper>

